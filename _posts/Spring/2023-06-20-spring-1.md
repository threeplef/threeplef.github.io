---
title: "[Spring] 1. ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬"
excerpt: "ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ íŠ¹ì§•ê³¼ ê¸°ë³¸ì ì¸ ê°œë…, ì˜ì¡´ì„± ì£¼ì…ì— ëŒ€í•´ ì„¤ëª…, ì˜ì¡´ì„± ì£¼ì…ì€ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ ê°€ì¥ í•µì‹¬ì´ ë˜ëŠ” ê¸°ëŠ¥, XMLì„ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…ê³¼ ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…"

categories:
  - Spring
tags:
  - [Spring, Framework, Java, XML, Annotation]

toc: true
toc_sticky: true

date: 2023-06-20
last_modified_at: 2023-06-22
---

## ğŸŒ± ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ ê°œìš”

### 1.1. ê°œìš”

- ì—”í„°í”„ë¼ì´ì¦ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶•ì„ ìœ„í•œ ì†”ë£¨ì…˜
- ëª¨ë“ˆí™”ë˜ì–´ ìˆì–´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì‚¬ìš© ê°€ëŠ¥
- ì„ ì–¸ì  íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê°€ëŠ¥
- ì™„ì „í•œ ê¸°ëŠ¥ì„ ê°–ì¶˜ MVC í”„ë ˆì„ì›Œí¬ ì œê³µ
- AOP ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

### 1.2. ì¥ì 

1. ìƒì‚°ì„±
   ì—”í„°í”„ë¼ì´ì¦ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶•ì„ ìœ„í•œ ì†”ë£¨ì…˜ì´ì§€ë§Œ ê°€ë³ê³ , ëª¨ë“ˆí™”ë˜ì–´ ìˆì–´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì‚¬ìš© ê°€ëŠ¥

2. í’ˆì§ˆë³´ì¦
   ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ì´ë¯¸ ê²€ì¦ëœ ë§ì€ ì•„í‚¤í…ì²˜ ë° ë””ìì¸ íŒ¨í„´ì„ ì ìš©í•˜ì—¬ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì— ê°œë°œì— ì¼ê´€ì„±ì„ ì œê³µí•´ì£¼ë©° ì†Œí”„íŠ¸ì›¨ì–´ì˜ í’ˆì§ˆ ë³´ì¦

3. ìœ ì§€ë³´ìˆ˜
   ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ì—…ê³„ í‘œì¤€ìœ¼ë¡œ ìë¦¬ ì¡ì•˜ê¸° ë•Œë¬¸ì— ìœ ì§€ë³´ìˆ˜ í•˜ëŠ”ë° ë“¤ì–´ê°€ëŠ” ì¸ë ¥ê³¼ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ.

### 1.3. ì£¼ìš” êµ¬ì„± ìš”ì†Œ

ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ì•½ 20ê°œì˜ ëª¨ë“ˆë¡œ êµ¬ì„±ëœ ê¸°ëŠ¥ìœ¼ë¡œ êµ¬ì„±ë¨. ì´ëŸ¬í•œ ëª¨ë“ˆì€ ë‹¤ìŒ ë‹¤ì´ì–´ê·¸ë¨ê³¼ ê°™ì´ ê·¸ë£¹í™”ë˜ì–´ ìˆìŒ.
![](https://github.com/threeplef/threeplef.github.io/assets/89235056/2102d655-50ce-476f-89b0-037998dc1bdc)

### 1.4. íŠ¹ì§•

1. POJO(Plain Old Java Object) ê¸°ë°˜ì˜ í”„ë ˆì„ì›Œí¬
2. <u>ì˜ì¡´ì„±ì£¼ì…(DI; Dependency Injection)</u> ì§€ì›
3. <u>ê´€ì ì§€í–¥í”„ë¡œê·¸ë˜ë°(AOP; Aspect Oriented Programming)</u> ì§€ì›
4. í™•ì¥ì„± ë†’ìŒ
5. Model2 ë°©ì‹ì˜ MVC Framework ì§€ì›

## ğŸŒ± ì˜ì¡´ì„± ì£¼ì… ê°œìš”

### 2.1. ì˜ì¡´ì„± ì£¼ì…ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œ

ë¨¼ì € Service ì¸í„°í˜ì´ìŠ¤ì™€ í´ë˜ìŠ¤ë¥¼ ì‘ì„±

```java
// IHelloService.java
package com.example.myapp.di;

public interface IHelloService {
  String sayHello(String name);
}

// HelloService.java
package com.example.myapp.di;

public class HelloService implements IHelloService {

  @Override
  public String sayHello(String name) {
    System.out.println("HelloService.sayHello() ë©”ì„œë“œ ì‹¤í–‰");
    String message = "Hello~~~" + name;
    return message;
  }
}
```

ë‹¤ìŒìœ¼ë¡œ Serviceë¥¼ ì‚¬ìš©í•  í´ë˜ìŠ¤ ìƒì„±. ì´ Controller í´ë˜ìŠ¤ëŠ” Service í´ë˜ìŠ¤ì— ì˜ì¡´.

```java
// HelloController.java
package com.example.myapp.di;

public class HelloController {

  // í•„ìš”í•œ ê°ì²´ ì§ì ‘ ìƒì„±í•´ì„œ ì‚¬ìš©
  IHelloService helloService = new HelloService();

  public void hello(String name) {
    System.out.println("HelloController: " + helloService.sayHello(name));
  }
}
```

### 2.2. ì˜ì¡´ì„± ì£¼ì…ì„ ì‚¬ìš©í•œ ì½”ë“œ

1. <u>ìƒì„±ì</u>ë¥¼ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…

   ```java
   // HelloController.java
   package com.example.myapp.di;

   public class HelloController {

     IHelloService helloService;

     public HelloController(IHelloService helloService) {
       this.helloService = helloService;
     }

     public void hello(String name) {
       System.out.println("HelloController: " + helloService.sayHello(name));
     }
   }

   // HelloMain.java
   package com.example.myapp.di;

   public class HelloMain {
     public static void main(String[] args) {
       IHelloService helloService = new HelloService(); // Service ê°ì²´ ìƒì„±
       HelloController controller = new HelloController(helloService); // Controllerì—ê²Œ ì „ë‹¬
       controller.hello("í™ê¸¸ë™");
     }
   }
   ```

2. <u>setter ë©”ì„œë“œ</u>ë¥¼ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…

   ```java
   // HelloController.java
   package com.example.myapp.hello.controller;

   public class HelloController {

     IHelloService helloService;

     public void setHelloService(IHelloService helloService) {
       this.helloService = helloService;
     }

     public void hello(String name) {
       System.out.println("HelloController: " + helloService.sayHello(name));
     }
   }

   // HelloMain.java
   package com.example.myapp.hello;

   public class HelloMain {
     public static void main(String[] args) {
       IHelloService helloService = new HelloService(); // Service ê°ì²´ ìƒì„±
       HelloController controller = new HelloController();
       controller.setHelloService(helloService); // set ë©”ì„œë“œ í˜¸ì¶œí•´ì„œ ê°ì²´ ì „ë‹¬
       controller.hello("í™ê¸¸ë™");
     }
   }
   ```

## ğŸŒ± ìŠ¤í”„ë§ì˜ ì˜ì¡´ì„± ì£¼ì…

### 3.1. XMLì„ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…

1. ì„¤ì • íŒŒì¼ ì¶”ê°€
2. ë¹ˆ ì„¤ì •
3. ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸
4. ìƒì„±ìë¥¼ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…
5. setter ë©”ì„œë“œë¥¼ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…
6. p ë„¤ì„ìŠ¤í˜ì´ìŠ¤
7. ì»¬ë ‰ì…˜ íƒ€ì… ì˜ì¡´ì„± ì„¤ì •
8. prototypeê³¼ singleton

### 3.2. ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…

1. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì¶”ê°€ ë° ì„¤ì • íŒŒì¼ ìˆ˜ì •
2. ë¹ˆ ìƒì„±
3. ì˜ì¡´ì„± ì£¼ì… ì„¤ì •

### 3.3. ìë°” ì„¤ì •íŒŒì¼ì„ ì´ìš©í•œ ì˜ì¡´ì„± ì£¼ì…

```java
import org.springframework.beans.factory.annotation.Configurable;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.ImportResource;

@Configurable
@ComponentScan(basePackages={"com.example.demo"})
@ImportResource(value={"classpath:application-config.xml"})
public class AppConfig {
  @Bean
  IHelloService helloService() {
    return new HelloService();
  }
  @Bean
  HelloController helloController() {
    return new HelloController(helloService());
  }
}
```

### 3.4. ë¹ˆ ìƒì„±ê³¼ ì˜ì¡´ì„± ì£¼ì… ë¹„êµ

<table>
  <th></th>
  <th>XML ì„¤ì • íŒŒì¼</th>
  <th>Annotation</th>
    <tr>
      <td rowspan="3">ë¹ˆ ìƒì„±</td>
      <td rowspan="3">&lt;bean id="ë¹ˆì´ë¦„" class="íŒ¨í‚¤ì§€ëª….í´ë˜ìŠ¤ëª…"/&gt;</td>
      <td>ì„¤ì • íŒŒì¼ì— ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” íƒœê·¸ ì¶”ê°€ &lt;context:component-scan base-package="íŒ¨í‚¤ì§€ëª…"/&gt;</td>
    </tr>
    <tr>
      <td>ìë°”í´ë˜ìŠ¤ ìœ„ì— @Controller, @Component, @Service, @Repository ì¤‘ì—ì„œ í•˜ë‚˜ ì„ ì–¸</td>
    </tr>
    <tr>
      <td>ë¹ˆì˜ ì´ë¦„ì€ í´ë˜ìŠ¤ ì´ë¦„ì—ì„œ ì²« ë¬¸ìë§Œ ì†Œë¬¸ìë¡œ ë°”ë€ ì´ë¦„ìœ¼ë¡œ ì§€ì •ë¨</td>
    </tr>
    <tr>
      <td rowspan="3">ì˜ì¡´ì„± ì£¼ì…</td>
      <td rowspan="3">
      <table>
        <td rowspan="2">ìƒì„±ì</td>
        <td>ìë°”í´ë˜ìŠ¤ì— ìƒì„±ì ì¶”ê°€</td>
        <tr>
          <td>&lt;constructor-arg name="ë³€ìˆ˜ëª…" ref="ë¹ˆì´ë¦„"/&gt;</td>
        </tr>
        <td rowspan="2">Setter</td>
        <td>ìë°”í´ë˜ìŠ¤ì— setter ë©”ì„œë“œ ì¶”ê°€</td>
        <tr>
          <td>&lt;property name="ë³€ìˆ˜ëª…" ref="ë¹ˆì´ë¦„"/&gt;</td>
        </tr>
      </table>
      </td>
    </tr>
    <tr>
      <td>
      í•„ë“œ(ë©¤ë²„ë³€ìˆ˜) ë˜ëŠ” ìƒì„±ì ë˜ëŠ” setter ë©”ì„œë“œ ìœ„ì— @Autowired, @Inject ì–´ë…¸í…Œì´ì…˜ ì¤‘ í•˜ë‚˜ ì„ ì–¸(íƒ€ì…ìœ¼ë¡œ ì˜ì¡´ì„± ì£¼ì…)</td>
    </tr>
    <tr>
      <td>ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ê°€ ë‘ ê°œ ì´ìƒì´ë©´ @Autowired ì•„ë˜ì— @Qualifier("ë¹ˆì´ë¦„") ì¶”ê°€í•˜ê±°ë‚˜ @Resource(name="ë¹ˆì´ë¦„")ìœ¼ë¡œ ì„ ì–¸</td>
    </tr>
</table>
## ğŸŒ± ë¹ˆ(Bean) ì„¤ì • íŒŒì¼

### 4.1. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì¶”ê°€

- XML ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëŠ” XML ìš”ì†Œ ê°„ì˜ ì´ë¦„ì— ëŒ€í•œ ì¶©ëŒì„ ë°©ì§€í•´ ì£¼ëŠ” ë°©ë²•ì„ ì œê³µ
- XML ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëŠ” `ìš”ì†Œì˜ ì´ë¦„ê³¼ ì†ì„±ì˜ ì´ë¦„ì„ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì£¼ì–´` ì´ë¦„ì— ëŒ€í•œ ì¶©ëŒì„ í•´ê²°
- XML ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëŠ” URI(Uniform Resource Identifiers)ë¡œ ì‹ë³„
- ì´í´ë¦½ìŠ¤ì—ì„œ XML ë¬¸ì„œë¥¼ ì—´ì—ˆì„ ë•Œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ íƒ­ì„ í†µí•´ ë¬¸ì„œì—ì„œ ì‚¬ìš©í•˜ë ¤ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„ íƒí•˜ë©´ ì†ŒìŠ¤ì½”ë“œì— ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì„ ì–¸ì´ ìë™ìœ¼ë¡œ ì¶”ê°€

![](https://github.com/threeplef/threeplef.github.io/assets/89235056/8ce58a66-bf54-4e60-97f0-a432e605ae7f)

### 4.2. ìŠ¤í”„ë§ ì„¤ì • íŒŒì¼ ë‚˜ëˆ„ê¸°

ë¹ˆ ì„¤ì •ì„ ê¸°ëŠ¥ë³„ë¡œ ì—¬ëŸ¬ XML íŒŒì¼ë¡œ ë‚˜ëˆ„ì–´ ì„¤ì •í•œ ê²ƒ &nbsp;&nbsp;
![](https://github.com/threeplef/threeplef.github.io/assets/89235056/f7b30911-9dee-418a-b139-b3ccf8854d48)

### 4.3. &lt;import&gt; íƒœê·¸ë¥¼ ì´ìš©í•œ ë‹¤ë¥¸ ë¹ˆ ì„¤ì • íŒŒì¼ í¬í•¨

```java
// context-main.xml
<import resource="context-common.xml"/>
<import resource="context-aspect.xml"/>
<import resource="context-datasource.xml"/>
<import resource="context-transaction.xml"/>
<import resource="context-idgen.xml"/>
<import resource="context-properties.xml"/>
<import resource="context-security.xml"/>
<import resource="context-validator.xml"/>
<import resource="context-sqlMap.xml"/>
```

### 4.4. ì—¬ëŸ¬ ê°œ ì„¤ì • íŒŒì¼ ì§€ì •

```java
// ìë°” ì½”ë“œì—ì„œ
public class HelloMain {
  public static void main(String[] args) {
    AbstractApplicationContext context = new GenericXmlApplicationContext("context-*.xml");
    HelloController controller = context.getBean(HelloController.class);
    controller.hello("JinKyoung");
    context.close();
  }
}

// web.xml íŒŒì¼ì—ì„œ
<context-param>
  <param-name>contextConfigLocation</param-name>
  <param-value>classpath:/spring/context-*.xml</param-value>
</context-param>
<listener>
  <listener-class>
  org.springframework.web.context.ContextLoaderListener
  </listener-class>
</listener>
```

<br/><br/>---

## ğŸ“Œ java.lang.exceptionininitializererror (at Windows 10)

ìœ„ ì—ëŸ¬ëŠ” Spring Legacy Projectê°€ ì•„ì§ Java 17ì„ ì§€ì›í•˜ì§€ ì•Šì•„ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¼ê³  ì•Œë ¤ì ¸ìˆë‹¤. ë²„ì „ì´ ë¬¸ì œë¼ë©´ ì§€ì›í•˜ëŠ” ë²„ì „ì— ë§ì¶° javaë¥¼ ê¹”ë©´ ëœë‹¤.

### í•´ê²° ë°©ë²• - eclipse.ini íŒŒì¼ ìˆ˜ì •

ê°€ì¥ ì˜ ì•Œë ¤ì§„ í•´ê²°ë°©ë²•ì´ë‹¤. ë‚˜ì˜ ê²½ìš° Oracle JDK 1.8 ë²„ì „ì´ ì„¤ì¹˜ë˜ì–´ ìˆê³  Java í™˜ê²½ ë³€ìˆ˜ ë˜í•œ 1.8ì— ë§ì¶°ì ¸ ìˆë‹¤. ë”°ë¼ì„œ ë¡œì»¬ í™˜ê²½ì— ë§ì¶° íŒŒì¼ì„ ìˆ˜ì •í•´ì£¼ë©´ ëœë‹¤.

![](https://github.com/threeplef/threeplef.github.io/assets/89235056/b3103ee7-2a67-4384-801f-1f769d8c9dda)

---

<br>

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
